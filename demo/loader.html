<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />

<!--kissy seed for browser -->
<script src="http://g.tbcdn.cn/kissy/k/1.3.2/seed.js"></script>
<style>
canvas {
    display: block;
    border: 1px solid #ccc;
    margin: 0 auto;
}
</style>
</head>

<body>
<h2>请打开console 看log</h2>

<script>
    var S = KISSY;
    if (S.Config.debug) {
        S.config({
            packages:[
                {
                    name:"cec",
                    path:'../src/',
                    charset:"utf-8",
                    ignorePackageNameInUri:true
                }
            ]
        });
    }

    S.use('cec/loader/,cec/sprite/rectsprite', function (S, Loader, RectSprite) {
        var assets = [
            './images/package/1.png',
            './images/package/2.png',
            './images/package/3.png',
            './images/package/4.png',
            './images/package/pkg_01.jpg',
            './images/package/pkg_03.png',
            './images/package/pkg_05.png',
            './images/package/repeat.png',
            'http://fackbook.com/xx.jpg',
            'http://img08.taobaocdn.com/imgextra/i8/T1IzdRFcVcXXb1upjX.jpg_xxx.jpg'
        ];

        // 把loader 和 sprite的 cache 引用打通，这样loader中已经load好的图片也会缓存到sprite中
        Loader.belongto(RectSprite);

        // new Loader().load(assets, cb);
        new Loader(assets, function (progress, img) {
            console.log(progress, img);
        });

        console.log(Loader.prototype, RectSprite.prototype);
    });
</script>
</body>
</html>